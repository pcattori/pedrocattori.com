---
import Layout from "../layout.astro"
import { getPosts } from "../lib/posts"
import FormattedDate from "../lib/formatted-date.astro"

const posts = await getPosts()
---

<Layout>
  <ul class="mt-8 space-y-8">
    {
      posts.map((post) => (
        <li>
          <article class="border-t border-b-2 border-r-2 px-4 py-3 w-fit">
            <a href={`/posts/${post.slug}`} class="space-y-1">
              <div class="flex items-baseline gap-4">
                <p class="text-xl font-roboto font-semibold">{post.title}</p>
                <div class="text-muted text-xs">
                  <FormattedDate date={post.publishedAt} format="short" />
                </div>
              </div>
              <p class="text-xs text-pencil">{post.description}</p>
            </a>
          </article>
        </li>
      ))
    }
  </ul>
</Layout>
